{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\StudentAdmin\\\\Documents\\\\GitHub\\\\CP3330Project\\\\mallprojectreact\\\\src\\\\Advertisment\\\\AdvertismentCreate.js\";\nimport React from \"react\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport DB from \"../db\";\nimport auth from \"../auth\";\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Paper from '@material-ui/core/Paper';\nimport Container from '@material-ui/core/Container';\nimport { Button } from \"react-bootstrap\";\nimport { Redirect } from \"react-router-dom\";\nimport { TextField, InputLabel, Grid, NativeSelect } from '@material-ui/core';\nexport default class AdvertismentCreate extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      Advertisment: {\n        UserEmail: \"\",\n        Type: \"Sports wear\",\n        StartDateTime: \"\",\n        EndDateTime: \"\",\n        MediaContent: \"\",\n        Description: \"\",\n        Status: \"waitingApproval\"\n      },\n      Types: [],\n      User: null,\n      isCreated: false\n    };\n\n    this.componentDidMount = async () => {\n      if (auth.isLoggedIn()) {\n        const json = await DB.Users.findByQuery(\"profile\");\n        const jsonType = await DB.Renters.findAll();\n        const temp = this.state.Advertisment;\n        const tempArr = [];\n        temp.UserEmail = json.Email; // the map is to take all items that has \"Type\" and add it to a temp array.\n\n        jsonType.map(item => tempArr.push(item.Type)); // this line will take the array and remove duplicates.\n\n        const uniqueTypes = Array.from(new Set(tempArr));\n        this.setState({\n          User: json,\n          Advertisment: temp,\n          Types: uniqueTypes\n        });\n      }\n    };\n\n    this.HandleCreate = async () => {\n      const response = await DB.Advertisements.create(this.state.Advertisment);\n\n      if (response) {\n        this.setState({\n          isCreated: true\n        });\n      }\n    };\n\n    this.handleType = event => {\n      console.log(\"type \", event.target.value);\n      const temp = this.state.Advertisment;\n      temp.Types = event.target.value;\n      this.setState({\n        Advertisment: temp\n      });\n    };\n\n    this.handleStartDateTime = event => {\n      const temp = this.state.Advertisment;\n      temp.StartDateTime = event.target.value;\n      this.setState({\n        Advertisment: temp\n      });\n    };\n\n    this.handleEndDateTime = event => {\n      const temp = this.state.Advertisment;\n      temp.EndDateTime = event.target.value;\n      this.setState({\n        Advertisment: temp\n      });\n    };\n\n    this.handleMediaContent = event => {\n      const temp = this.state.Advertisment;\n      temp.MediaContent = event.target.value;\n      this.setState({\n        Advertisment: temp\n      });\n    };\n\n    this.handleDescription = event => {\n      const temp = this.state.Advertisment;\n      temp.Description = event.target.value;\n      this.setState({\n        Advertisment: temp\n      });\n    };\n\n    this.handleStatus = event => {\n      const temp = this.state.Advertisment;\n      temp.Status = event.target.value;\n      this.setState({\n        Advertisment: temp\n      });\n    };\n  }\n\n  render() {\n    return this.state.isCreated ? React.createElement(Redirect, {\n      to: \"/advertisment/\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }) : this.state.User ? React.createElement(React.Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, React.createElement(Paper, {\n      style: {\n        width: \"550px\",\n        height: \"530px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, React.createElement(CssBaseline, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }), React.createElement(Container, {\n      maxWidth: \"sm\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, React.createElement(Grid, {\n      container: true,\n      spacing: 3,\n      style: {\n        PaddingTop: \"5%\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, React.createElement(Grid, {\n      container: true,\n      item: true,\n      xs: 12,\n      spacing: 1,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      style: {\n        borderBottom: \"1.8px solid lightgray\",\n        width: \"100%\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, \"Advertisment\")), React.createElement(Grid, {\n      container: true,\n      item: true,\n      xs: 6,\n      spacing: 1,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, React.createElement(TextField, {\n      id: \"standard-basic\",\n      value: this.state.User.Email,\n      label: \"Email\",\n      margin: \"normal\",\n      disabled: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    })), React.createElement(Grid, {\n      container: true,\n      item: true,\n      xs: 6,\n      spacing: 1,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, React.createElement(InputLabel, {\n      shrink: true,\n      htmlFor: \"age-native-label-placeholder\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, \"Type\"), React.createElement(NativeSelect, {\n      value: this.state.Types[0].Type,\n      onChange: this.handleType,\n      inputProps: {\n        name: 'Advertisment',\n        id: 'age-native-label-placeholder'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, this.state.Types.map(item => React.createElement(\"option\", {\n      value: item,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }, item)))), React.createElement(Grid, {\n      container: true,\n      item: true,\n      xs: 6,\n      spacing: 1,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }, React.createElement(TextField, {\n      id: \"datetime-local\",\n      type: \"datetime-local\",\n      label: \"Start Time\",\n      defaultValue: \"2017-05-24T10:30\",\n      InputLabelProps: {\n        shrink: true\n      },\n      onChange: this.handleStartDateTime,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    })), React.createElement(Grid, {\n      container: true,\n      item: true,\n      xs: 6,\n      spacing: 1,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }, React.createElement(TextField, {\n      id: \"datetime-local\",\n      type: \"datetime-local\",\n      label: \"End Time\",\n      defaultValue: \"2017-05-24T10:30\",\n      InputLabelProps: {\n        shrink: true\n      },\n      onChange: this.handleEndDateTime,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    })), React.createElement(Grid, {\n      container: true,\n      item: true,\n      xs: 12,\n      spacing: 1,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }, React.createElement(TextField, {\n      id: \"standard-basic\",\n      onChange: this.handleMediaContent,\n      label: \"Attach Media\",\n      margin: \"normal\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    })), React.createElement(Grid, {\n      container: true,\n      item: true,\n      xs: 12,\n      spacing: 1,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    }, React.createElement(TextField, {\n      id: \"outlined-multiline-static\",\n      label: \"Description\",\n      multiline: true,\n      rows: \"4\",\n      onChange: this.handleDescription,\n      margin: \"normal\",\n      variant: \"outlined\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    })), React.createElement(Button, {\n      onClick: () => this.HandleCreate(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182\n      },\n      __self: this\n    }, \"Save\"))))) : React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190\n      },\n      __self: this\n    }, \"Loading...\");\n  }\n\n}","map":{"version":3,"sources":["C:/Users/StudentAdmin/Documents/GitHub/CP3330Project/mallprojectreact/src/Advertisment/AdvertismentCreate.js"],"names":["React","DB","auth","CssBaseline","Paper","Container","Button","Redirect","TextField","InputLabel","Grid","NativeSelect","AdvertismentCreate","Component","state","Advertisment","UserEmail","Type","StartDateTime","EndDateTime","MediaContent","Description","Status","Types","User","isCreated","componentDidMount","isLoggedIn","json","Users","findByQuery","jsonType","Renters","findAll","temp","tempArr","Email","map","item","push","uniqueTypes","Array","from","Set","setState","HandleCreate","response","Advertisements","create","handleType","event","console","log","target","value","handleStartDateTime","handleEndDateTime","handleMediaContent","handleDescription","handleStatus","render","width","height","PaddingTop","borderBottom","name","id","shrink"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport DB from \"../db\"\r\nimport auth from \"../auth\"\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Container from '@material-ui/core/Container';\r\nimport {Button} from \"react-bootstrap\";\r\nimport {Redirect } from \"react-router-dom\";\r\nimport {TextField,InputLabel,Grid,NativeSelect } from '@material-ui/core';\r\n\r\nexport default class AdvertismentCreate extends React.Component {\r\n  state = {\r\n    Advertisment:{\r\n      UserEmail: \"\",\r\n      Type: \"Sports wear\",\r\n      StartDateTime: \"\",\r\n      EndDateTime: \"\",\r\n      MediaContent: \"\",\r\n      Description: \"\",\r\n      Status: \"waitingApproval\",\r\n    },\r\n    Types:[],\r\n    User: null,\r\n    isCreated: false\r\n  };\r\n  componentDidMount = async () =>{\r\n    if(auth.isLoggedIn()){\r\n      const json = await DB.Users.findByQuery(\"profile\");\r\n      const jsonType = await DB.Renters.findAll();\r\n      const temp = this.state.Advertisment;\r\n      const tempArr = [];\r\n      temp.UserEmail = json.Email;\r\n\r\n      // the map is to take all items that has \"Type\" and add it to a temp array.\r\n        jsonType.map(item =>\r\n          tempArr.push(item.Type) \r\n        )\r\n      // this line will take the array and remove duplicates.\r\n        const uniqueTypes = Array.from(new Set(tempArr));\r\n\r\n      this.setState({\r\n        User : json,\r\n        Advertisment : temp,\r\n        Types: uniqueTypes\r\n      })}\r\n  }\r\n  \r\n  HandleCreate = async () =>{\r\n    const response = await DB.Advertisements.create(\r\n      this.state.Advertisment\r\n    )\r\n    if(response){\r\n      this.setState({isCreated : true})\r\n    }\r\n  }\r\n\r\n  handleType = event => {\r\n    console.log(\"type \", event.target.value)\r\n    const temp = this.state.Advertisment\r\n    temp.Types = event.target.value\r\n    this.setState({Advertisment : temp})\r\n  }\r\n  handleStartDateTime = event => {\r\n    const temp = this.state.Advertisment;\r\n    temp.StartDateTime = event.target.value;\r\n    this.setState({Advertisment : temp})\r\n  }\r\n  handleEndDateTime = event => {\r\n    const temp = this.state.Advertisment;\r\n    temp.EndDateTime = event.target.value;\r\n    this.setState({Advertisment : temp})\r\n  }\r\n  handleMediaContent = event => {\r\n    const temp = this.state.Advertisment;\r\n    temp.MediaContent = event.target.value;\r\n    this.setState({Advertisment : temp})\r\n  }\r\n  handleDescription = event => {\r\n    const temp = this.state.Advertisment;\r\n    temp.Description = event.target.value;\r\n    this.setState({Advertisment : temp})\r\n  }\r\n  handleStatus = event => {\r\n    const temp = this.state.Advertisment;\r\n    temp.Status = event.target.value;\r\n    this.setState({Advertisment : temp})\r\n  } \r\n\r\n  render(){\r\n    return this.state.isCreated ? (\r\n      <Redirect to=\"/advertisment/\" />\r\n    ) : (\r\n        this.state.User ? \r\n        <React.Fragment>\r\n          <Paper style={{width:\"550px\", height:\"530px\"}}>\r\n        <CssBaseline />\r\n        <Container maxWidth=\"sm\">\r\n        \r\n        <Grid container spacing={3} style={{PaddingTop:\"5%\"}}>\r\n        <Grid container item xs={12} spacing={1}>\r\n        <h2 style={{borderBottom:\"1.8px solid lightgray\",width:\"100%\"}}>Advertisment</h2>\r\n        </Grid>\r\n        <Grid container item xs={6} spacing={1}>\r\n            <TextField\r\n              id=\"standard-basic\"\r\n              value={this.state.User.Email}\r\n              label=\"Email\"\r\n              margin=\"normal\"\r\n              disabled\r\n            />   \r\n        </Grid>\r\n        <Grid container item xs={6} spacing={1}>\r\n\r\n        <InputLabel shrink htmlFor=\"age-native-label-placeholder\">\r\n        Type\r\n        </InputLabel>\r\n        <NativeSelect\r\n          value={this.state.Types[0].Type}\r\n          onChange={this.handleType}\r\n          inputProps={{\r\n            name: 'Advertisment',\r\n            id: 'age-native-label-placeholder',\r\n          }}\r\n        >\r\n          {this.state.Types.map( item =>\r\n            <option value={item}>{item}</option>\r\n          )}\r\n        </NativeSelect>\r\n\r\n\r\n        </Grid>\r\n        <Grid container item xs={6} spacing={1}>\r\n           <TextField\r\n              id=\"datetime-local\"\r\n              type=\"datetime-local\"\r\n              label=\"Start Time\"\r\n              defaultValue=\"2017-05-24T10:30\"\r\n              InputLabelProps={{\r\n                shrink: true,\r\n              }}\r\n              onChange={this.handleStartDateTime}\r\n            />\r\n        </Grid>\r\n        <Grid container item xs={6} spacing={1}>\r\n            <TextField\r\n              id=\"datetime-local\"\r\n              type=\"datetime-local\"\r\n              label=\"End Time\"\r\n              defaultValue=\"2017-05-24T10:30\"\r\n              InputLabelProps={{\r\n                shrink: true,\r\n              }}\r\n              onChange={this.handleEndDateTime}\r\n            />\r\n                      \r\n          \r\n        </Grid>\r\n        <Grid container item xs={12} spacing={1}>\r\n          <TextField\r\n              id=\"standard-basic\"\r\n              onChange={this.handleMediaContent}\r\n              label=\"Attach Media\"\r\n              margin=\"normal\"\r\n            />\r\n                      \r\n          \r\n        </Grid>\r\n        <Grid container item xs={12} spacing={1}>\r\n          <TextField\r\n          id=\"outlined-multiline-static\"\r\n          label=\"Description\"\r\n          multiline\r\n          rows=\"4\"\r\n          onChange={this.handleDescription}\r\n          margin=\"normal\"\r\n          variant=\"outlined\"\r\n        />\r\n                  \r\n          \r\n        </Grid>\r\n          <Button onClick={() => this.HandleCreate()}>Save</Button>\r\n         \r\n          </Grid>\r\n          \r\n          </Container>\r\n          </Paper>\r\n          </React.Fragment>\r\n        :\r\n        <h1>Loading...</h1>\r\n      );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}
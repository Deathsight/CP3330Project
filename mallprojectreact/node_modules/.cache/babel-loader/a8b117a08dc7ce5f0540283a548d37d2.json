{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\StudentAdmin\\\\Documents\\\\GitHub\\\\CP3330Project\\\\mallprojectreact\\\\src\\\\User\\\\UserEdit.js\";\nimport React from \"react\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport DB from \"../db.js\";\nimport Button from \"react-bootstrap/Button\";\nimport { Redirect } from \"react-router-dom\";\nexport default class UserEdit extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      Name: \"\",\n      Phone: \"\",\n      User: null,\n      isEdited: false\n    };\n\n    this.handleName = event => {\n      this.setState({\n        Name: event.target.value\n      });\n    };\n\n    this.handlePhone = event => {\n      this.setState({\n        Phone: event.target.value\n      });\n    };\n  }\n\n  async componentDidMount() {\n    const json = await DB.Users.findByQuery(\"profile\");\n    this.setState({\n      User: json,\n      Name: json.Name,\n      Phone: json.Phone\n    });\n    console.log();\n  }\n\n  async handleEditDB() {\n    const response = await DB.Users.editProfile({\n      Email: this.state.User.Email,\n      Name: this.state.Name,\n      Phone: this.state.Phone,\n      RoleID: this.state.User.RoleID\n    });\n\n    if (response) {\n      this.setState({\n        isEdited: true\n      });\n    }\n  }\n\n  render() {\n    return this.state.isEdited ? React.createElement(Redirect, {\n      to: \"/profile\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }) : React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, \"Edit Profile\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, \"Email: \"), React.createElement(\"input\", {\n      value: this.state.User.Email,\n      type: \"text\",\n      disabled: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, \"Name: \"), React.createElement(\"input\", {\n      value: this.state.Name,\n      type: \"text\",\n      onChange: this.handleName,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, \"Phone Number: \"), React.createElement(\"input\", {\n      value: this.state.Phone,\n      type: \"number\",\n      onChange: this.handlePhone,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, \"Role: \"), React.createElement(\"input\", {\n      value: this.state.User.Roles.Name,\n      type: \"text\",\n      disabled: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }), React.createElement(Button, {\n      onClick: () => this.handleEditDB(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, \"Save\"));\n  }\n\n}","map":{"version":3,"sources":["C:/Users/StudentAdmin/Documents/GitHub/CP3330Project/mallprojectreact/src/User/UserEdit.js"],"names":["React","DB","Button","Redirect","UserEdit","Component","state","Name","Phone","User","isEdited","handleName","event","setState","target","value","handlePhone","componentDidMount","json","Users","findByQuery","console","log","handleEditDB","response","editProfile","Email","RoleID","render","Roles"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport DB from \"../db.js\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nexport default class UserEdit extends React.Component {\r\n  state = {\r\n    Name: \"\",\r\n    Phone: \"\",\r\n    User: null,\r\n    isEdited: false\r\n  };\r\n\r\n  async componentDidMount() {\r\n    const json = await DB.Users.findByQuery(\"profile\");\r\n    this.setState({ User: json, Name: json.Name, Phone: json.Phone });\r\n    console.log()\r\n  }\r\n\r\n\r\n  async handleEditDB() {\r\n    const response = await DB.Users.editProfile({\r\n      Email: this.state.User.Email,\r\n      Name: this.state.Name,\r\n      Phone: this.state.Phone,\r\n      RoleID: this.state.User.RoleID\r\n\r\n    });\r\n\r\n    if (response) {\r\n      this.setState({ isEdited: true });\r\n    }\r\n  }\r\n\r\n  handleName = event => {\r\n    this.setState({ Name: event.target.value });\r\n  };\r\n  handlePhone = event => {\r\n    this.setState({ Phone: event.target.value });\r\n  };\r\n\r\n\r\n  render() {\r\n    return this.state.isEdited ? (\r\n      <Redirect to=\"/profile\" />\r\n    ) : (\r\n        <div>\r\n          <h2>Edit Profile</h2>\r\n          <br />\r\n\r\n          <label>Email: </label>\r\n          <input\r\n            value={this.state.User.Email}\r\n            type=\"text\"\r\n            disabled\r\n          ></input>\r\n          <br></br>\r\n\r\n          <label>Name: </label>\r\n          <input\r\n            value={this.state.Name}\r\n            type=\"text\"\r\n            onChange={this.handleName}\r\n          ></input>\r\n          <br></br>\r\n\r\n          <label>Phone Number: </label>\r\n          <input\r\n            value={this.state.Phone}\r\n            type=\"number\"\r\n            onChange={this.handlePhone}\r\n          ></input>\r\n          <br></br>\r\n\r\n          <label>Role: </label>\r\n          <input\r\n            value={this.state.User.Roles.Name}\r\n            type=\"text\"\r\n            disabled\r\n          ></input>\r\n          <br></br>\r\n\r\n          <Button onClick={() => this.handleEditDB()}>Save</Button>\r\n        </div>\r\n      );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}
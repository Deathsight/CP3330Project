{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\StudentAdmin\\\\Documents\\\\GitHub\\\\CP3330Project\\\\mallprojectreact\\\\src\\\\Renting\\\\RentingCreate.js\";\nimport React from \"react\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport DB from \"../db.js\";\nimport Button from \"react-bootstrap/Button\";\nimport Form from \"react-bootstrap/Form\";\nimport { Link, Redirect } from \"react-router-dom\";\nimport Table from \"react-bootstrap/Table\";\nimport Auth from \"../auth\";\nexport default class RentingCreate extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      renter: \"\",\n      Security: null,\n      securityCompanies: [],\n      Description: \"\",\n      Capacity: \"\",\n      isCreated: false,\n      store: null,\n      Date: \"\",\n      StartDateTime: null,\n      EndDateTime: null,\n      TotalPrice: 0,\n      duration: 0\n    };\n\n    this.handleStartDate = event => {\n      console.log(event.target.value);\n      this.setState({\n        StartDateTime: event.target.value\n      });\n    };\n\n    this.handleEndDate = event => {\n      console.log(event.target.value);\n      this.setState({\n        EndDateTime: event.target.value\n      });\n      this.handleDuration();\n    };\n\n    this.handleTime = (event, Time) => {\n      this.setState({\n        Time\n      });\n    };\n\n    this.handleBook = async () => {\n      console.log(this.state.Date);\n      console.log(this.state.Time);\n      console.log(this.state.movie.Id);\n\n      if (await DB.assetBookings.create({\n        RenterEmail: this.state.renter,\n        StartDateTime: \"\".concat(this.state.StartDateTime, \"T00:00:00\"),\n        EndDateTime: \"\".concat(this.state.EndDateTime, \"T00:00:00\"),\n        TotalPrice: 0,\n        Status: \"\"\n      })) {\n        this.setState({\n          isCreated: true\n        });\n      }\n    };\n\n    this.handleTotalPrice = () => {\n      console.log(this.state.StartDateTime);\n      console.log(this.state.EndDateTime);\n      console.log(this.state.Security);\n\n      if (this.state.StartDateTime != null && this.state.EndDateTime != null && this.state.Security != null) {\n        var price = this.state.duration * this.state.store.StorePM.Price;\n        price = price + DB.Securities.findOne(this.state.Security).Price;\n        console.log(price);\n      }\n    };\n\n    this.handleDuration = () => {\n      var edt = new Date(this.state.EndDateTime);\n      var sdt = new Date(this.state.StartDateTime);\n      var Difference_In_Time = edt.getTime() - sdt.getTime();\n      var days = Difference_In_Time / (1000 * 3600 * 24);\n      this.setState({\n        duration: days / 30\n      });\n      this.handleTotalPrice();\n    };\n\n    this.handleSecurity = sec => {\n      this.setState({\n        Security: sec\n      });\n      this.handleTotalPrice();\n    };\n\n    this.isAvailable = time => {\n      // search for time in all times in\n      //this.state.movie.assetBookings.Bookings;\n      const search = \"\".concat(this.state.Date, \"T\").concat(time);\n      return this.state.movie.AssetBookings.filter(assetBooking => assetBooking.Booking.StartDateTime === search).length === 0;\n    };\n\n    this.handleDescription = event => {\n      this.setState({\n        Description: event.target.value\n      });\n    };\n\n    this.handleCapacity = event => {\n      this.setState({\n        Capacity: event.target.value\n      });\n    };\n  }\n\n  async componentDidMount() {\n    const store = await DB.Stores.findOne(this.props.match.params.id);\n    const renters = await DB.Renters.findByName(Auth.username());\n    const securityCompanies = await DB.Securities.findAll();\n    const renter = renters[0]; //console.log(renter);\n    //console.log(securityCompanies);\n\n    console.log(store);\n    this.setState({\n      store\n    });\n    this.setState({\n      securityCompanies\n    });\n    this.setState({\n      renter\n    });\n  }\n\n  render() {\n    return this.state.isCreated ? React.createElement(Redirect, {\n      to: \"/profile\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }) : React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, \"Please Fill the Form Below\"), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, \"Renter: \", this.state.renter.Email), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, \"Store Name: \", this.state.renter.StoreName), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }, \"Start date: \"), React.createElement(\"input\", {\n      type: \"date\",\n      onChange: this.handleStartDate,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }, \"End date: \"), React.createElement(\"input\", {\n      type: \"date\",\n      onChange: this.handleEndDate,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }), \"Choose a Security Option\", this.state.securityCompanies.map((company, index) => React.createElement(\"li\", {\n      key: index,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, React.createElement(Form.Check, {\n      inline: true,\n      type: \"radio\",\n      name: \"securityCompany\",\n      onChange: () => this.handleSecurity(company),\n      value: company,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }, company.CompanyName, \" : \", company.Level, \" \"))), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }, \"Total price: \", this.state.TotalPrice), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }), React.createElement(Button, {\n      onClick: this.handleBook,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }, \"Create\"));\n  }\n\n}","map":{"version":3,"sources":["C:/Users/StudentAdmin/Documents/GitHub/CP3330Project/mallprojectreact/src/Renting/RentingCreate.js"],"names":["React","DB","Button","Form","Link","Redirect","Table","Auth","RentingCreate","Component","state","renter","Security","securityCompanies","Description","Capacity","isCreated","store","Date","StartDateTime","EndDateTime","TotalPrice","duration","handleStartDate","event","console","log","target","value","setState","handleEndDate","handleDuration","handleTime","Time","handleBook","movie","Id","assetBookings","create","RenterEmail","Status","handleTotalPrice","price","StorePM","Price","Securities","findOne","edt","sdt","Difference_In_Time","getTime","days","handleSecurity","sec","isAvailable","time","search","AssetBookings","filter","assetBooking","Booking","length","handleDescription","handleCapacity","componentDidMount","Stores","props","match","params","id","renters","Renters","findByName","username","findAll","render","Email","StoreName","map","company","index","CompanyName","Level"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport DB from \"../db.js\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Form from \"react-bootstrap/Form\";\r\nimport { Link, Redirect } from \"react-router-dom\";\r\nimport Table from \"react-bootstrap/Table\";\r\nimport Auth from \"../auth\";\r\n\r\nexport default class RentingCreate extends React.Component {\r\n  state = {\r\n    renter: \"\",\r\n    Security: null,\r\n    securityCompanies: [],\r\n    Description: \"\",\r\n    Capacity: \"\",\r\n    isCreated: false,\r\n    store: null,\r\n    Date: \"\",\r\n    StartDateTime: null,\r\n    EndDateTime: null,\r\n    TotalPrice: 0,\r\n    duration: 0\r\n  };\r\n\r\n  async componentDidMount() {\r\n    const store = await DB.Stores.findOne(this.props.match.params.id);\r\n    const renters = await DB.Renters.findByName(Auth.username());\r\n    const securityCompanies = await DB.Securities.findAll();\r\n    const renter = renters[0];\r\n    //console.log(renter);\r\n    //console.log(securityCompanies);\r\n    console.log(store);\r\n    this.setState({ store });\r\n    this.setState({ securityCompanies });\r\n    this.setState({ renter });\r\n  }\r\n\r\n  handleStartDate = event => {\r\n    console.log(event.target.value);\r\n    this.setState({ StartDateTime: event.target.value });\r\n  };\r\n  handleEndDate = event => {\r\n    console.log(event.target.value);\r\n    this.setState({ EndDateTime: event.target.value });\r\n    this.handleDuration();\r\n  };\r\n\r\n  handleTime = (event, Time) => {\r\n    this.setState({ Time });\r\n  };\r\n\r\n  handleBook = async () => {\r\n    console.log(this.state.Date);\r\n    console.log(this.state.Time);\r\n    console.log(this.state.movie.Id);\r\n\r\n    if (\r\n      await DB.assetBookings.create({\r\n        RenterEmail: this.state.renter,\r\n        StartDateTime: `${this.state.StartDateTime}T00:00:00`,\r\n        EndDateTime: `${this.state.EndDateTime}T00:00:00`,\r\n        TotalPrice: 0,\r\n        Status: \"\"\r\n      })\r\n    ) {\r\n      this.setState({ isCreated: true });\r\n    }\r\n  };\r\n\r\n  handleTotalPrice = () => {\r\n    console.log(this.state.StartDateTime);\r\n    console.log(this.state.EndDateTime);\r\n    console.log(this.state.Security);\r\n    if (\r\n      this.state.StartDateTime != null &&\r\n      this.state.EndDateTime != null &&\r\n      this.state.Security != null\r\n    ) {\r\n      var price = this.state.duration * this.state.store.StorePM.Price;\r\n      price = price + DB.Securities.findOne(this.state.Security).Price;\r\n      console.log(price);\r\n    }\r\n  };\r\n\r\n  handleDuration = () => {\r\n    var edt = new Date(this.state.EndDateTime);\r\n    var sdt = new Date(this.state.StartDateTime);\r\n    var Difference_In_Time = edt.getTime() - sdt.getTime();\r\n    var days = Difference_In_Time / (1000 * 3600 * 24);\r\n    this.setState({ duration: days / 30 });\r\n    this.handleTotalPrice();\r\n  };\r\n\r\n  handleSecurity = sec => {\r\n    this.setState({ Security: sec });\r\n    this.handleTotalPrice();\r\n  };\r\n\r\n  isAvailable = time => {\r\n    // search for time in all times in\r\n    //this.state.movie.assetBookings.Bookings;\r\n    const search = `${this.state.Date}T${time}`;\r\n    return (\r\n      this.state.movie.AssetBookings.filter(\r\n        assetBooking => assetBooking.Booking.StartDateTime === search\r\n      ).length === 0\r\n    );\r\n  };\r\n\r\n  handleDescription = event => {\r\n    this.setState({ Description: event.target.value });\r\n  };\r\n  handleCapacity = event => {\r\n    this.setState({ Capacity: event.target.value });\r\n  };\r\n\r\n  render() {\r\n    return this.state.isCreated ? (\r\n      <Redirect to=\"/profile\" />\r\n    ) : (\r\n      <div>\r\n        <h2>Please Fill the Form Below</h2>\r\n        <label>Renter: {this.state.renter.Email}</label>\r\n        <br />\r\n        <label>Store Name: {this.state.renter.StoreName}</label>\r\n        <br></br>\r\n        <label>Start date: </label>\r\n        <input type=\"date\" onChange={this.handleStartDate}></input>\r\n        <br />\r\n        <label>End date: </label>\r\n        <input type=\"date\" onChange={this.handleEndDate}></input>\r\n        <br></br>\r\n        Choose a Security Option\r\n        {this.state.securityCompanies.map((company, index) => (\r\n          <li key={index}>\r\n            <Form.Check\r\n              inline\r\n              type=\"radio\"\r\n              name=\"securityCompany\"\r\n              onChange={() => this.handleSecurity(company)}\r\n              value={company}\r\n            ></Form.Check>\r\n            <label>\r\n              {company.CompanyName} : {company.Level}{\" \"}\r\n            </label>\r\n          </li>\r\n        ))}\r\n        <label>Total price: {this.state.TotalPrice}</label>\r\n        <br></br>\r\n        <Button onClick={this.handleBook}>Create</Button>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}
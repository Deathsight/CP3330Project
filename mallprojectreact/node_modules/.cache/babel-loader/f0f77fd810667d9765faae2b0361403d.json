{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\StudentAdmin\\\\Documents\\\\GitHub\\\\CP3330Project\\\\mallprojectreact\\\\src\\\\UploadImage.js\";\nimport React from 'react';\nimport axios, { post } from 'axios';\n\nclass SimpleReactFileUpload extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      file: null\n    };\n    this.onFormSubmit = this.onFormSubmit.bind(this);\n    this.onChange = this.onChange.bind(this);\n    this.fileUpload = this.fileUpload.bind(this);\n  }\n\n  onFormSubmit(e) {\n    e.preventDefault(); // Stop form submit\n\n    this.fileUpload(this.state.file).then(response => {\n      console.log(response.data);\n    });\n  }\n\n  onChange(e) {\n    this.setState({\n      file: e.target.files[0]\n    });\n    console.log(e.target.files[0]);\n  }\n\n  fileUpload(file) {\n    const url = '~/UserImage/';\n    const formData = new FormData();\n    formData.append('file', file);\n    const config = {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"multipart/form-data\"\n      },\n      body: JSON.stringify(item)\n    };\n    console.log(url, formData, config);\n    return post(url, formData, config);\n  }\n\n  render() {\n    return React.createElement(\"form\", {\n      onSubmit: this.onFormSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }, \"File Upload\"), React.createElement(\"input\", {\n      type: \"file\",\n      onChange: this.onChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }, \"Upload\"));\n  }\n\n}\n\nexport default SimpleReactFileUpload;","map":{"version":3,"sources":["C:/Users/StudentAdmin/Documents/GitHub/CP3330Project/mallprojectreact/src/UploadImage.js"],"names":["React","axios","post","SimpleReactFileUpload","Component","constructor","props","state","file","onFormSubmit","bind","onChange","fileUpload","e","preventDefault","then","response","console","log","data","setState","target","files","url","formData","FormData","append","config","method","headers","body","JSON","stringify","item","render"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,IAAgBC,IAAhB,QAA4B,OAA5B;;AAEA,MAAMC,qBAAN,SAAoCH,KAAK,CAACI,SAA1C,CAAoD;AAElDC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAY;AACVC,MAAAA,IAAI,EAAC;AADK,KAAZ;AAGA,SAAKC,YAAL,GAAoB,KAAKA,YAAL,CAAkBC,IAAlB,CAAuB,IAAvB,CAApB;AACA,SAAKC,QAAL,GAAgB,KAAKA,QAAL,CAAcD,IAAd,CAAmB,IAAnB,CAAhB;AACA,SAAKE,UAAL,GAAkB,KAAKA,UAAL,CAAgBF,IAAhB,CAAqB,IAArB,CAAlB;AACD;;AACDD,EAAAA,YAAY,CAACI,CAAD,EAAG;AACbA,IAAAA,CAAC,CAACC,cAAF,GADa,CACM;;AACnB,SAAKF,UAAL,CAAgB,KAAKL,KAAL,CAAWC,IAA3B,EAAiCO,IAAjC,CAAuCC,QAAD,IAAY;AAChDC,MAAAA,OAAO,CAACC,GAAR,CAAYF,QAAQ,CAACG,IAArB;AACD,KAFD;AAGD;;AACDR,EAAAA,QAAQ,CAACE,CAAD,EAAI;AACV,SAAKO,QAAL,CAAc;AAACZ,MAAAA,IAAI,EAACK,CAAC,CAACQ,MAAF,CAASC,KAAT,CAAe,CAAf;AAAN,KAAd;AACAL,IAAAA,OAAO,CAACC,GAAR,CAAYL,CAAC,CAACQ,MAAF,CAASC,KAAT,CAAe,CAAf,CAAZ;AACD;;AACDV,EAAAA,UAAU,CAACJ,IAAD,EAAM;AACd,UAAMe,GAAG,GAAG,cAAZ;AACA,UAAMC,QAAQ,GAAG,IAAIC,QAAJ,EAAjB;AACAD,IAAAA,QAAQ,CAACE,MAAT,CAAgB,MAAhB,EAAuBlB,IAAvB;AACA,UAAMmB,MAAM,GAAG;AACbC,MAAAA,MAAM,EAAE,MADK;AAEbC,MAAAA,OAAO,EAAE;AACP,wBAAgB;AADT,OAFI;AAKbC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeC,IAAf;AALO,KAAf;AAOAhB,IAAAA,OAAO,CAACC,GAAR,CAAYK,GAAZ,EAAgBC,QAAhB,EAAyBG,MAAzB;AACA,WAAQzB,IAAI,CAACqB,GAAD,EAAMC,QAAN,EAAeG,MAAf,CAAZ;AACD;;AAEDO,EAAAA,MAAM,GAAG;AACP,WACE;AAAM,MAAA,QAAQ,EAAE,KAAKzB,YAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADF,EAEE;AAAO,MAAA,IAAI,EAAC,MAAZ;AAAmB,MAAA,QAAQ,EAAE,KAAKE,QAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,EAGE;AAAQ,MAAA,IAAI,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAHF,CADF;AAOD;;AA5CiD;;AAiDpD,eAAeR,qBAAf","sourcesContent":["import React from 'react'\r\nimport axios, { post } from 'axios';\r\n\r\nclass SimpleReactFileUpload extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state ={\r\n      file:null\r\n    }\r\n    this.onFormSubmit = this.onFormSubmit.bind(this)\r\n    this.onChange = this.onChange.bind(this)\r\n    this.fileUpload = this.fileUpload.bind(this)\r\n  }\r\n  onFormSubmit(e){\r\n    e.preventDefault() // Stop form submit\r\n    this.fileUpload(this.state.file).then((response)=>{\r\n      console.log(response.data);\r\n    })\r\n  }\r\n  onChange(e) {\r\n    this.setState({file:e.target.files[0]})\r\n    console.log(e.target.files[0])\r\n  }\r\n  fileUpload(file){\r\n    const url = '~/UserImage/';\r\n    const formData = new FormData();\r\n    formData.append('file',file)\r\n    const config = {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"multipart/form-data\"\r\n      },\r\n      body: JSON.stringify(item)\r\n    }\r\n    console.log(url,formData,config)\r\n    return  post(url, formData,config)\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <form onSubmit={this.onFormSubmit}>\r\n        <h1>File Upload</h1>\r\n        <input type=\"file\" onChange={this.onChange} />\r\n        <button type=\"submit\">Upload</button>\r\n      </form>\r\n   )\r\n  }\r\n}\r\n\r\n\r\n\r\nexport default SimpleReactFileUpload"]},"metadata":{},"sourceType":"module"}
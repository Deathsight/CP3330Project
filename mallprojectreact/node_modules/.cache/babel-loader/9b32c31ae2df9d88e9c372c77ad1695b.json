{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\StudentAdmin\\\\Documents\\\\GitHub\\\\CP3330Project\\\\mallprojectreact\\\\src\\\\Profile.js\";\nimport React from \"react\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport Table from \"react-bootstrap/Table\";\nimport DB from \"./db.js\";\nimport { Link } from \"react-router-dom\";\nexport default class Profile extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      Customer: null\n    };\n\n    this.handleDate = item => {\n      const datetime = new Date(item);\n      return \"\".concat(datetime.toDateString(), \" - \").concat(datetime.toLocaleTimeString());\n    };\n\n    this.handleBirthDate = item => {\n      const datetime = new Date(item);\n      return datetime.toLocaleDateString();\n    };\n  }\n\n  async componentDidMount() {\n    const json = await DB.Customers.findByQuery(\"profile\");\n    this.setState({\n      Customer: json\n    });\n  }\n\n  render() {\n    return this.state.Customer ? React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 29\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30\n      },\n      __self: this\n    }, \"My Profile\"), React.createElement(\"table\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35\n      },\n      __self: this\n    }, \"Name:\"), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36\n      },\n      __self: this\n    }, this.state.Customer.Name)), React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39\n      },\n      __self: this\n    }, \"Birth Date:\"), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    }, this.handleBirthDate(this.state.Customer.BirthDate))), React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }, \"Phone Number:\"), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }, this.state.Customer.Phone)), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/Profile/edit/\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }, \"Edit Profile\")))), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }), React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, \"My Appointments\"), React.createElement(Table, {\n      striped: true,\n      bordered: true,\n      hover: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, \"Date/Time\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, \"Stylist\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, \"Price\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, \"Status\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, \"Cancel\")), this.state.Customer.Bookings.map(item => React.createElement(\"tr\", {\n      key: item.Id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, this.handleDate(item.StartDateTime)), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, item.AssetBookings[0].Asset.Description), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, item.TotalPrice), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, item.Status), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/booking/delete/\".concat(item.Id),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, \"Cancel Appointment\"))))))) : React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, \"Loading...\");\n  }\n\n}","map":{"version":3,"sources":["C:/Users/StudentAdmin/Documents/GitHub/CP3330Project/mallprojectreact/src/Profile.js"],"names":["React","Table","DB","Link","Profile","Component","state","Customer","handleDate","item","datetime","Date","toDateString","toLocaleTimeString","handleBirthDate","toLocaleDateString","componentDidMount","json","Customers","findByQuery","setState","render","Name","BirthDate","Phone","Bookings","map","Id","StartDateTime","AssetBookings","Asset","Description","TotalPrice","Status"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport Table from \"react-bootstrap/Table\";\r\nimport DB from \"./db.js\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport default class Profile extends React.Component {\r\n  state = {\r\n    Customer: null\r\n  };\r\n\r\n  async componentDidMount() {\r\n    const json = await DB.Customers.findByQuery(\"profile\");\r\n    this.setState({ Customer: json });\r\n  }\r\n  \r\n  handleDate = (item) => {\r\n    const datetime = new Date(item)\r\n    return `${datetime.toDateString()} - ${datetime.toLocaleTimeString()}`\r\n  }\r\n\r\n  handleBirthDate = (item) => {\r\n    const datetime = new Date(item)\r\n    return datetime.toLocaleDateString()\r\n  }\r\n\r\n  render() {\r\n    return this.state.Customer ? (\r\n      <div>\r\n        <h2>My Profile</h2>\r\n\r\n        <table>\r\n          <thead>\r\n            <tr>\r\n              <th>Name:</th>\r\n              <td>{this.state.Customer.Name}</td>\r\n            </tr>\r\n            <tr>\r\n              <th>Birth Date:</th>\r\n              <td>{this.handleBirthDate(this.state.Customer.BirthDate)}</td>\r\n            </tr>\r\n              <tr>\r\n              <th>Phone Number:</th>\r\n              <td>{this.state.Customer.Phone}</td>\r\n            </tr>\r\n            <td><Link to={`/Profile/edit/`}>Edit Profile</Link></td>\r\n          </thead>\r\n        </table>\r\n        <br/>\r\n\r\n        <h2>My Appointments</h2>\r\n\r\n        <Table striped bordered hover>\r\n          <thead>\r\n            <tr>\r\n            <th>Date/Time</th>\r\n            <th>Stylist</th>\r\n            <th>Price</th>\r\n            <th>Status</th>\r\n            <th>Cancel</th>\r\n            </tr>\r\n            {this.state.Customer.Bookings.map(item => (\r\n              <tr key={item.Id}>\r\n              <td>{this.handleDate(item.StartDateTime)}</td>\r\n              <td>{item.AssetBookings[0].Asset.Description}</td>\r\n              <td>{item.TotalPrice}</td>\r\n              <td>{item.Status}</td>\r\n              <td>\r\n                  {\r\n                    <Link to={`/booking/delete/${item.Id}`}>Cancel Appointment</Link>\r\n                  }\r\n                </td>\r\n            </tr>\r\n            ))}\r\n          </thead>\r\n        </Table>\r\n      </div>\r\n    ) : (\r\n      <h1>Loading...</h1>\r\n    );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}
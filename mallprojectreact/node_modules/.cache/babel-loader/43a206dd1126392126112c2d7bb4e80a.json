{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\StudentAdmin\\\\Documents\\\\GitHub\\\\CP3330Project\\\\mallprojectreact\\\\src\\\\User\\\\UserEdit.js\";\nimport React from \"react\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport DB from \"../db.js\";\nimport Button from \"react-bootstrap/Button\";\nimport { Redirect } from \"react-router-dom\";\nexport default class UserEdit extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      Email: \"\",\n      Name: \"\",\n      Phone: \"\",\n      isEdited: false\n    };\n\n    this.handleName = event => {\n      this.setState({\n        Name: event.target.value\n      });\n    };\n\n    this.handlePhone = event => {\n      this.setState({\n        Phone: event.target.value\n      });\n    };\n  }\n\n  async componentDidMount() {\n    const json = await DB.Users.findByQuery(\"profile\");\n    this.setState({\n      Email: json.Email,\n      Name: json.Name,\n      Phone: json.Phone,\n      User: json\n    });\n  }\n\n  async handleEditDB() {\n    const response = await DB.Users.editProfile({\n      Email: this.state.User.Email,\n      Name: this.state.Name,\n      Phone: this.state.Phone,\n      RoleID: this.state.User.RoleID\n    });\n\n    if (response) {\n      this.setState({\n        isEdited: true\n      });\n    }\n  }\n\n  render() {\n    return this.state.isEdited ? React.createElement(Redirect, {\n      to: \"/profile\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }) : React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, \"Edit Profile\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, \"Email: \"), React.createElement(\"input\", {\n      value: this.state.User.Email,\n      type: \"text\",\n      disabled: \"disabled\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, \"Name: \"), React.createElement(\"input\", {\n      value: this.state.Name,\n      type: \"text\",\n      onChange: this.handleName,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, \"Phone Number: \"), React.createElement(\"input\", {\n      value: this.state.Phone,\n      type: \"number\",\n      onChange: this.handlePhone,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, \"Role: \"), React.createElement(\"input\", {\n      value: this.state.User.Roles.Name,\n      type: \"text\",\n      disabled: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }), React.createElement(Button, {\n      onClick: () => this.handleEditDB(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, \"Save\"));\n  }\n\n}","map":{"version":3,"sources":["C:/Users/StudentAdmin/Documents/GitHub/CP3330Project/mallprojectreact/src/User/UserEdit.js"],"names":["React","DB","Button","Redirect","UserEdit","Component","state","Email","Name","Phone","isEdited","handleName","event","setState","target","value","handlePhone","componentDidMount","json","Users","findByQuery","User","handleEditDB","response","editProfile","RoleID","render","Roles"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport DB from \"../db.js\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nexport default class UserEdit extends React.Component {\r\n  state = {\r\n    Email: \"\",\r\n    Name: \"\",\r\n    Phone: \"\",\r\n    \r\n    isEdited: false\r\n  };\r\n\r\n  async componentDidMount() {\r\n    const json = await DB.Users.findByQuery(\"profile\");\r\n    this.setState({ Email: json.Email, Name: json.Name, Phone: json.Phone, User: json });\r\n  }\r\n\r\n\r\n  async handleEditDB() {\r\n    const response = await DB.Users.editProfile({\r\n      Email: this.state.User.Email,\r\n      Name: this.state.Name,\r\n      Phone: this.state.Phone,\r\n      RoleID: this.state.User.RoleID\r\n\r\n    });\r\n\r\n    if (response) {\r\n      this.setState({ isEdited: true });\r\n    }\r\n  }\r\n\r\n  handleName = event => {\r\n    this.setState({ Name: event.target.value });\r\n  };\r\n  handlePhone = event => {\r\n    this.setState({ Phone: event.target.value });\r\n  };\r\n\r\n\r\n  render() {\r\n    return this.state.isEdited ? (\r\n      <Redirect to=\"/profile\" />\r\n    ) : (\r\n        <div>\r\n          <h2>Edit Profile</h2>\r\n          <br />\r\n\r\n          <label>Email: </label>\r\n          <input\r\n            value={this.state.User.Email}\r\n            type=\"text\"\r\n            disabled=\"disabled\"\r\n          ></input>\r\n          <br></br>\r\n\r\n          <label>Name: </label>\r\n          <input\r\n            value={this.state.Name}\r\n            type=\"text\"\r\n            onChange={this.handleName}\r\n          ></input>\r\n          <br></br>\r\n\r\n          <label>Phone Number: </label>\r\n          <input\r\n            value={this.state.Phone}\r\n            type=\"number\"\r\n            onChange={this.handlePhone}\r\n          ></input>\r\n          <br></br>\r\n\r\n          <label>Role: </label>\r\n          <input\r\n            value={this.state.User.Roles.Name}\r\n            type=\"text\"\r\n            disabled\r\n          ></input>\r\n          <br></br>\r\n\r\n          <Button onClick={() => this.handleEditDB()}>Save</Button>\r\n        </div>\r\n      );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}